{% extends "base.html" %}

{% block title %}Doctor Availability{% endblock %}

{% block content %}
 <!--  for doctorsb dashboard where doctors will give their availabilities -->
<style>
    body {
        background-color: #f4f6f9;
    }

    .page-wrapper {
        display: flex;
        justify-content: center;
        padding: 40px 0;
    }

    .availability-panel {
        width: 100%;
        max-width: 780px;
        background: #ffffff;
        padding: 32px 36px;
        border-radius: 12px;
        border: 1px solid #e3e6ea;
    }

    h2 {
        font-weight: 600;
        font-size: 26px;
        color: #1e2a37;
        margin-bottom: 24px;
        text-align: center;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    thead th {
        background-color: #0c4a31;
        color: white;
        font-size: 15px;
        font-weight: 600;
        padding: 14px 10px;
        text-transform: uppercase;
        border-top-left-radius: 6px;
        border-top-right-radius: 6px;
    }

    tbody tr {
        border-bottom: 1px solid #dde1e6;
    }

    tbody td {
        padding: 14px 10px;
        font-size: 16px;
        color: #2b2f33;
        text-align: center;
    }

    .switch {
        position: relative;
        width: 50px;
        height: 24px;
        display: inline-block;
    }

    .switch input {
        display: none;
    }

    .slider {
        position: absolute;
        inset: 0;
        background-color: #cdcdcd;
        border-radius: 30px;
        transition: 0.3s;
    }

    .slider:before {
        content: "";
        height: 18px;
        width: 18px;
        background: #ffffff;
        position: absolute;
        left: 3px;
        bottom: 3px;
        border-radius: 50%;
        transition: 0.3s;
        box-shadow: 0 2px 4px rgba(12, 137, 8, 0.222);
    }

    input:checked + .slider {
        background-color: #0c3724;
    }

    input:checked + .slider:before {
        transform: translateX(26px);
    }

    .submit-btn {
        display: block;
        margin: 26px auto 0 auto;
        padding: 10px 36px;
        font-size: 16px;
        font-weight: 600;
        background-color: #0e580e;
        border: none;
        border-radius: 8px;
        color: white;
        transition: 0.3s;
    }
    .submit-btn:hover {
        background-color: #0f470a;
    }
</style>


<div class="page-wrapper">
    <div class="availability-panel">

        <h2>Doctor Availability</h2>

        <form method="POST" action="/doctor_dashboard/availability">
            <table>
                <thead>
                    <tr>
                        <th style="width:40%">Date</th>
                        <th>Morning</th>
                        <th>Evening</th>
                    </tr>
                </thead>

                <tbody>
                    {% for a in availabilities %}
                    <tr>
                        <td>{{ a.date }}</td>

                        <td>
                            <label class="switch">
                                <input type="checkbox" name="morning_{{ a.date }}"
                                {% if a.morning %}checked{% endif %}>
                                <span class="slider"></span>
                            </label>
                        </td>

                        <td>
                            <label class="switch">
                                <input type="checkbox" name="evening_{{ a.date }}"
                                {% if a.evening %}checked{% endif %}>
                                <span class="slider"></span>
                            </label>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            <button type="submit" class="submit-btn">Save Changes</button>
        </form>

    </div>
</div>

{% endblock %}
